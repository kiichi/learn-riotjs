<app>
    <div class="row">
        <div class="column">
                <h4>{state.structure.Title}</h3>
                <ol>
                    <li each="{chapter in state.structure.Chapters}" if="{chapter.Type === 'Content'}">
                        <a href="#" onclick="{()=>menuClicked(chapter)}">{chapter.Title}</a>
                    </li>
                </ol>
        </div>
        <div class="column column-80">
            <content md="{state.src}"></content>
        </div>
    </div>
    <script>
        export default {
            state: {
                src: '', //
                structure:[]
            },
            async onMounted(){
                this.state.structure = await this.service.getStructure();
                
                //this.state.src = await this.publisher.getSource(this.state.structure.Chapters[this.state.currentIndex].File);
                this.update();
            },
            async menuClicked(chapter){
                console.log(chapter)
                this.state.src = await this.publisher.getSource(chapter.Contents[0].File);
                this.update();
            }
        }
    </script>
</app>